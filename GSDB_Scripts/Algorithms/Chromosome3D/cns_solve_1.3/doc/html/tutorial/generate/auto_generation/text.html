<HTML>
<HEAD>
   <TITLE>Crystallography & NMR System</TITLE>
</HEAD>
<BODY BGCOLOR=#8ebf8e>

<HR WIDTH="100%"></P>

<H2>Automatic (&quot;on the fly&quot;) generation of the molecular topology file</H2>

<HR WIDTH="100%"></P>

<P>Most CNS task files (except NMR structure determination tasks) have the option to automatically generate the molecular topology (MTF) file &quot;on the fly&quot; by leaving the input field for the molecular topology file blank. All examples in the previous section can be treated that way, i.e., most CNS task files can be run without having to first execute <tt>generate_easy.inp</tt> or <tt>generate.inp</tt>. However, there are several conditions for successful automatic MTF generation:</P>
<ol>
  <li>All atoms with unknown coordinates will be ignored. To estimate the coordinates for atoms with unknown positions  use <tt>enerate_easy.inp</tt> or <tt>generate.inp</tt>. However, this option should be used with caution since the atom builder uses a rather simple energy minimization method to relax the coordinates with no reference to experimental data. Careful inspection of the built coordinates is recommended</li>
  <li>Each distinct protein, DNA, or RNA chain must have a separate segid (or chainid if the chainid is non-blank).</li>
  <li>Each contiguous protein, RNA, or RNA chain must not be disrupted by other types of residues or ligands.  Rather, these other residues <br>
    should be listed after protein, RNA/DNA chains.</li>
  <li> Disulphides are automatically detected based on distances between the sulfur atoms (must be less than 3 A apart).</li>
  <li>Broken protein/RNA/DNA chains without terminii must be more than 2.5 A apart to be recognized as such.This will have the same effect as using a BREAK record in the input PDB file. Conversely, if two sequential residues are more than 2.5 A apart, they are interpreted as chain break and no covalent bond is applied. </li>
  <li>N-linked glycan links are automatically recognized if the bonded atoms are less than 2.5 A apart.Note that this criterion is very stringent so care has to be taken that atoms that are to covalently linked are less than 2.5 A apart!</li>
  <li>Heterocompounds can be read but need to be declared with appropriate topology and parameter files (see the section on <a href="../tools/coord.html">tools to generate topology and parameters for heterocompounds</a>) which need to be included in the list of topology and parameter files</li>
  <li>Automatic generation cannot (yet) be used with alternate conformations.</li>
</ol>
<p>If some if these conditions are not appropriate for your case, then use <tt>generate_easy.inp</tt> or <tt>generate.inp</tt> to generate the MTF file prior to performing other jobs in order to have more control over formation of chains, chain breaks, disulfide bond formations, and carbohydrate linkages. </p>
<p>NMR structure determination usually starts with unknown coordinates or initial models that have poor geometry, precluding automatic MTF generation.</p>
<p>Note that for very large structures, the MTF generation can take considerable computing time. Thus, it may be more efficient in some instances to run <tt>generate_easy.inp</tt> once and then read the resulting MTF file in subsequent jobs. However, each time atoms are added or deleted from the coordinate file, the MTF file has to be regenerated. </p>
<P>&nbsp;</P>
<HR WIDTH="100%">
</P>

<A HREF="../../text.html">Back to tutorials</A>&nbsp;&nbsp;
<A HREF="../protein_dna/text.html">Previous section</A>&nbsp;&nbsp;
<A HREF="../ribosome/text.html">Next section</A>
<HR WIDTH="100%"></P>
   
</BODY>
</HTML>
